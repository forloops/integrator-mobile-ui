<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:controls="clr-namespace:IntegratorMobile.UI.Controls;assembly=IntegratorMobile.UI"
             x:Class="IntegratorMobile.Views.Auth.ResetPasswordPage"
             Shell.NavBarIsVisible="False"
             BackgroundColor="{StaticResource BackgroundSecondary}">
    
    <ScrollView>
        <VerticalStackLayout Padding="24"
                             Spacing="24"
                             VerticalOptions="Center">
            
            <!-- Back Button -->
            <HorizontalStackLayout>
                <Button Text="â€¹ Back"
                        TextColor="{StaticResource TextPrimary}"
                        BackgroundColor="Transparent"
                        FontFamily="InterSemiBold"
                        Clicked="OnBackClicked" />
            </HorizontalStackLayout>
            
            <!-- Header -->
            <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
                <Label Text="Reset Password"
                       Style="{StaticResource HeadingLarge}"
                       HorizontalOptions="Center" />
                <Label Text="Please enter the code that was texted to you and set a new password."
                       Style="{StaticResource BodyMedium}"
                       TextColor="{StaticResource TextSecondary}"
                       HorizontalTextAlignment="Center" />
            </VerticalStackLayout>
            
            <!-- Card -->
            <controls:AppCard CardPadding="24">
                <VerticalStackLayout Spacing="20">
                    
                    <!-- Alert (shown when result is available) -->
                    <Border x:Name="AlertBox"
                            IsVisible="False"
                            BackgroundColor="{StaticResource SuccessLight}"
                            Stroke="Transparent"
                            StrokeShape="RoundRectangle 8"
                            Padding="16">
                        <Label x:Name="AlertMessage"
                               FontFamily="InterMedium" />
                    </Border>
                    
                    <!-- Username Input -->
                    <controls:AppInput x:Name="UsernameInput"
                                      Label="Username"
                                      Placeholder="Enter your username"
                                      ReturnType="Next" />
                    
                    <!-- Reset Code Input -->
                    <controls:AppInput x:Name="ResetCodeInput"
                                      Label="Reset Code"
                                      Placeholder="Enter the code from your text"
                                      ReturnType="Next" />
                    
                    <!-- New Password Input -->
                    <controls:AppInput x:Name="NewPasswordInput"
                                      Label="New Password"
                                      Placeholder="Enter a new password"
                                      IsPassword="True"
                                      ReturnType="Next" />
                    
                    <!-- Confirm Password Input -->
                    <controls:AppInput x:Name="ConfirmPasswordInput"
                                      Label="Confirm Password"
                                      Placeholder="Confirm your new password"
                                      IsPassword="True"
                                      ReturnType="Go"
                                      Completed="OnConfirmPasswordCompleted" />
                    
                    <!-- Reset Password Button -->
                    <controls:AppButton x:Name="ResetButton"
                                       Text="RESET PASSWORD"
                                       Variant="Primary"
                                       IsBlock="True"
                                       Clicked="OnResetClicked" />
                    
                </VerticalStackLayout>
            </controls:AppCard>
            
        </VerticalStackLayout>
    </ScrollView>
    
</ContentPage>
