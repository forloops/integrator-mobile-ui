<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="IntegratorMobile.Views.Home.HomePage"
             Shell.NavBarIsVisible="False"
             BackgroundColor="#F8FAFC">
    
    <VerticalStackLayout>
        
        <!-- Custom Header -->
        <Grid BackgroundColor="#323F4B" 
              Padding="12"
              HeightRequest="56"
              ColumnDefinitions="Auto,*">
            <Button Text="â˜°"
                    FontSize="24"
                    TextColor="White"
                    BackgroundColor="Transparent"
                    Clicked="OnMenuClicked"
                    WidthRequest="44"
                    HeightRequest="44"
                    VerticalOptions="Center" />
            <Label Grid.Column="1" 
                   Text="Home"
                   TextColor="White"
                   FontSize="18"
                   FontAttributes="Bold"
                   VerticalOptions="Center"
                   Margin="8,0,0,0" />
        </Grid>
        
        <!-- Main Content -->
        <ScrollView VerticalOptions="FillAndExpand">
            <VerticalStackLayout Padding="16" Spacing="16">
                
                <!-- Welcome Section -->
                <VerticalStackLayout Spacing="4" Margin="0,8,0,8">
                    <Label Text="Welcome, John Smith!"
                           FontSize="24"
                           FontAttributes="Bold"
                           TextColor="#1E293B"
                           HorizontalOptions="Center" />
                    <Label Text="Crowther Roofing"
                           FontSize="14"
                           TextColor="#64748B"
                           HorizontalOptions="Center" />
                </VerticalStackLayout>
                
                <!-- Stats - 2x2 using FlexLayout -->
                <FlexLayout Wrap="Wrap" 
                            JustifyContent="Center" 
                            AlignContent="Start"
                            HorizontalOptions="Center">
                    
                    <!-- Today's Appointments -->
                    <Border BackgroundColor="White"
                            Stroke="#E2E8F0"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 12"
                            Padding="12"
                            Margin="6"
                            WidthRequest="160"
                            HeightRequest="75">
                        <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                            <Border WidthRequest="40" HeightRequest="40"
                                    BackgroundColor="#F1F5F9"
                                    StrokeThickness="0"
                                    StrokeShape="RoundRectangle 8">
                                <Label Text="ðŸ“…" FontSize="18" 
                                       HorizontalOptions="Center" VerticalOptions="Center" />
                            </Border>
                            <VerticalStackLayout VerticalOptions="Center">
                                <Label Text="3"
                                       FontSize="22"
                                       FontAttributes="Bold"
                                       TextColor="#3B82F6" />
                                <Label Text="Today's Appts"
                                       FontSize="10"
                                       TextColor="#64748B" />
                            </VerticalStackLayout>
                        </HorizontalStackLayout>
                    </Border>
                    
                    <!-- Open Jobs -->
                    <Border BackgroundColor="White"
                            Stroke="#E2E8F0"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 12"
                            Padding="12"
                            Margin="6"
                            WidthRequest="160"
                            HeightRequest="75">
                        <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                            <Border WidthRequest="40" HeightRequest="40"
                                    BackgroundColor="#F1F5F9"
                                    StrokeThickness="0"
                                    StrokeShape="RoundRectangle 8">
                                <Label Text="ðŸ’¼" FontSize="18" 
                                       HorizontalOptions="Center" VerticalOptions="Center" />
                            </Border>
                            <VerticalStackLayout VerticalOptions="Center">
                                <Label Text="12"
                                       FontSize="22"
                                       FontAttributes="Bold"
                                       TextColor="#F97316" />
                                <Label Text="Open Jobs"
                                       FontSize="10"
                                       TextColor="#64748B" />
                            </VerticalStackLayout>
                        </HorizontalStackLayout>
                    </Border>
                    
                    <!-- Pending Tasks -->
                    <Border BackgroundColor="White"
                            Stroke="#E2E8F0"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 12"
                            Padding="12"
                            Margin="6"
                            WidthRequest="160"
                            HeightRequest="75">
                        <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                            <Border WidthRequest="40" HeightRequest="40"
                                    BackgroundColor="#F1F5F9"
                                    StrokeThickness="0"
                                    StrokeShape="RoundRectangle 8">
                                <Label Text="â°" FontSize="18" 
                                       HorizontalOptions="Center" VerticalOptions="Center" />
                            </Border>
                            <VerticalStackLayout VerticalOptions="Center">
                                <Label Text="5"
                                       FontSize="22"
                                       FontAttributes="Bold"
                                       TextColor="#EAB308" />
                                <Label Text="Pending Tasks"
                                       FontSize="10"
                                       TextColor="#64748B" />
                            </VerticalStackLayout>
                        </HorizontalStackLayout>
                    </Border>
                    
                    <!-- Completed Today -->
                    <Border BackgroundColor="White"
                            Stroke="#E2E8F0"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 12"
                            Padding="12"
                            Margin="6"
                            WidthRequest="160"
                            HeightRequest="75">
                        <HorizontalStackLayout Spacing="10" VerticalOptions="Center">
                            <Border WidthRequest="40" HeightRequest="40"
                                    BackgroundColor="#F1F5F9"
                                    StrokeThickness="0"
                                    StrokeShape="RoundRectangle 8">
                                <Label Text="âœ…" FontSize="18" 
                                       HorizontalOptions="Center" VerticalOptions="Center" />
                            </Border>
                            <VerticalStackLayout VerticalOptions="Center">
                                <Label Text="8"
                                       FontSize="22"
                                       FontAttributes="Bold"
                                       TextColor="#22C55E" />
                                <Label Text="Completed"
                                       FontSize="10"
                                       TextColor="#64748B" />
                            </VerticalStackLayout>
                        </HorizontalStackLayout>
                    </Border>
                    
                </FlexLayout>
                
                <!-- Quick Actions Card -->
                <Border BackgroundColor="White"
                        Stroke="#E2E8F0"
                        StrokeThickness="1"
                        StrokeShape="RoundRectangle 12"
                        Padding="16"
                        Margin="0,8,0,0">
                    <VerticalStackLayout Spacing="16">
                        <Label Text="Quick Actions"
                               FontSize="16"
                               FontAttributes="Bold"
                               TextColor="#1E293B" />
                        
                        <!-- Quick Action Buttons -->
                        <FlexLayout JustifyContent="SpaceEvenly">
                            
                            <!-- Appointments -->
                            <VerticalStackLayout Spacing="8">
                                <VerticalStackLayout.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="OnAppointmentsTapped" />
                                </VerticalStackLayout.GestureRecognizers>
                                <Border WidthRequest="52" HeightRequest="52"
                                        BackgroundColor="#FEF3C7"
                                        StrokeThickness="0"
                                        StrokeShape="RoundRectangle 26"
                                        HorizontalOptions="Center">
                                    <Label Text="ðŸ“…" FontSize="22" 
                                           HorizontalOptions="Center" VerticalOptions="Center" />
                                </Border>
                                <Label Text="Appointments"
                                       FontSize="11"
                                       TextColor="#1E293B"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                            
                            <!-- Jobs -->
                            <VerticalStackLayout Spacing="8">
                                <Border WidthRequest="52" HeightRequest="52"
                                        BackgroundColor="#FEF3C7"
                                        StrokeThickness="0"
                                        StrokeShape="RoundRectangle 26"
                                        HorizontalOptions="Center">
                                    <Label Text="ðŸ’¼" FontSize="22" 
                                           HorizontalOptions="Center" VerticalOptions="Center" />
                                </Border>
                                <Label Text="Jobs"
                                       FontSize="11"
                                       TextColor="#1E293B"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                            
                            <!-- Directory -->
                            <VerticalStackLayout Spacing="8">
                                <Border WidthRequest="52" HeightRequest="52"
                                        BackgroundColor="#FEF3C7"
                                        StrokeThickness="0"
                                        StrokeShape="RoundRectangle 26"
                                        HorizontalOptions="Center">
                                    <Label Text="ðŸ‘¥" FontSize="22" 
                                           HorizontalOptions="Center" VerticalOptions="Center" />
                                </Border>
                                <Label Text="Directory"
                                       FontSize="11"
                                       TextColor="#1E293B"
                                       HorizontalOptions="Center" />
                            </VerticalStackLayout>
                        </FlexLayout>
                    </VerticalStackLayout>
                </Border>
                
                <!-- Recent Activity -->
                <Border BackgroundColor="White"
                        Stroke="#E2E8F0"
                        StrokeThickness="1"
                        StrokeShape="RoundRectangle 12"
                        Padding="16"
                        Margin="0,8,0,0">
                    <VerticalStackLayout Spacing="12">
                        <HorizontalStackLayout>
                            <Label Text="Recent Activity"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="#1E293B"
                                   HorizontalOptions="StartAndExpand" />
                            <Label Text="View All â€º"
                                   FontSize="12"
                                   TextColor="#4338CA"
                                   VerticalOptions="Center" />
                        </HorizontalStackLayout>
                        
                        <!-- Activity Item 1 -->
                        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12">
                            <Border WidthRequest="36" HeightRequest="36"
                                    BackgroundColor="#DCFCE7"
                                    StrokeThickness="0"
                                    StrokeShape="RoundRectangle 18">
                                <Label Text="âœ“" FontSize="16" TextColor="#16A34A"
                                       HorizontalOptions="Center" VerticalOptions="Center" />
                            </Border>
                            <VerticalStackLayout Grid.Column="1" VerticalOptions="Center">
                                <Label Text="Completed: Sunset Plaza HOA"
                                       FontSize="13"
                                       FontAttributes="Bold"
                                       TextColor="#1E293B" />
                                <Label Text="HVAC Inspection completed"
                                       FontSize="11"
                                       TextColor="#64748B" />
                            </VerticalStackLayout>
                            <Label Grid.Column="2" Text="2h ago"
                                   FontSize="10"
                                   TextColor="#94A3B8"
                                   VerticalOptions="Center" />
                        </Grid>
                        
                        <BoxView HeightRequest="1" Color="#E2E8F0" />
                        
                        <!-- Activity Item 2 -->
                        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12">
                            <Border WidthRequest="36" HeightRequest="36"
                                    BackgroundColor="#DBEAFE"
                                    StrokeThickness="0"
                                    StrokeShape="RoundRectangle 18">
                                <Label Text="ðŸ“·" FontSize="14"
                                       HorizontalOptions="Center" VerticalOptions="Center" />
                            </Border>
                            <VerticalStackLayout Grid.Column="1" VerticalOptions="Center">
                                <Label Text="Photo uploaded"
                                       FontSize="13"
                                       FontAttributes="Bold"
                                       TextColor="#1E293B" />
                                <Label Text="Arrival photo - Downtown Medical"
                                       FontSize="11"
                                       TextColor="#64748B" />
                            </VerticalStackLayout>
                            <Label Grid.Column="2" Text="3h ago"
                                   FontSize="10"
                                   TextColor="#94A3B8"
                                   VerticalOptions="Center" />
                        </Grid>
                        
                        <BoxView HeightRequest="1" Color="#E2E8F0" />
                        
                        <!-- Activity Item 3 -->
                        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="12">
                            <Border WidthRequest="36" HeightRequest="36"
                                    BackgroundColor="#FEF3C7"
                                    StrokeThickness="0"
                                    StrokeShape="RoundRectangle 18">
                                <Label Text="ðŸš—" FontSize="14"
                                       HorizontalOptions="Center" VerticalOptions="Center" />
                            </Border>
                            <VerticalStackLayout Grid.Column="1" VerticalOptions="Center">
                                <Label Text="En Route"
                                       FontSize="13"
                                       FontAttributes="Bold"
                                       TextColor="#1E293B" />
                                <Label Text="Harbor View Apartments"
                                       FontSize="11"
                                       TextColor="#64748B" />
                            </VerticalStackLayout>
                            <Label Grid.Column="2" Text="Yesterday"
                                   FontSize="10"
                                   TextColor="#94A3B8"
                                   VerticalOptions="Center" />
                        </Grid>
                    </VerticalStackLayout>
                </Border>
                
                <!-- Next Appointment Card -->
                <Border BackgroundColor="#4338CA"
                        StrokeThickness="0"
                        StrokeShape="RoundRectangle 12"
                        Padding="16"
                        Margin="0,8,0,16">
                    <Border.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnAppointmentsTapped" />
                    </Border.GestureRecognizers>
                    <Grid ColumnDefinitions="*,Auto">
                        <VerticalStackLayout Spacing="4">
                            <Label Text="NEXT APPOINTMENT"
                                   FontSize="10"
                                   TextColor="#C7D2FE"
                                   CharacterSpacing="1" />
                            <Label Text="Sunset Plaza HOA"
                                   FontSize="16"
                                   FontAttributes="Bold"
                                   TextColor="White" />
                            <Label Text="8:00 AM - HVAC Maintenance"
                                   FontSize="12"
                                   TextColor="#E0E7FF" />
                        </VerticalStackLayout>
                        <Label Grid.Column="1" Text="â€º"
                               FontSize="28"
                               TextColor="White"
                               VerticalOptions="Center" />
                    </Grid>
                </Border>
                
            </VerticalStackLayout>
        </ScrollView>
        
    </VerticalStackLayout>
    
</ContentPage>
